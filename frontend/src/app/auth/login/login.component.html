<div class="lang-switch">
  <button mat-button (click)="setLang('es')">ES</button>
  <button mat-button (click)="setLang('en')">EN</button>
</div>

<h2>{{ "login.title" | transloco }}</h2>

<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="mat-elevation-z2">
  <mat-form-field appearance="outline" class="full-width" color="accent">
    <mat-label>{{ "login.email" | transloco }}</mat-label>
    <input matInput formControlName="email" type="email" />
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width" color="accent">
    <mat-label>{{ "login.password" | transloco }}</mat-label>
    <input matInput formControlName="password" type="password" />
  </mat-form-field>

  <div *ngIf="serverError" class="error">
    {{ serverError }}
  </div>

  <button
    mat-raised-button
    color="primary"
    type="submit"
    [disabled]="isLoading || loginForm.invalid"
  >
    <span *ngIf="!isLoading">{{ "login.submit" | transloco }}</span>
    <mat-progress-spinner
      *ngIf="isLoading"
      diameter="20"
      mode="indeterminate"
    ></mat-progress-spinner>
  </button>

  <div class="extra-links">
    <a routerLink="/forgot-password">{{ "login.forgot" | transloco }}</a>
    <a routerLink="/register">{{ "login.register" | transloco }}</a>
  </div>
</form>
